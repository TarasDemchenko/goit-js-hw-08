{"mappings":"YAAA,IAGIA,EAUcC,EAAUC,EACtBC,EAdAC,EAAOC,SAASC,cAAc,kBAC9BC,EAAaH,EAAKE,cAAc,uBAChCE,EAAeJ,EAAKE,cAAc,4BAGlCG,EAAgB,WACpB,IAAMC,EAAY,CAChBC,MAAOJ,EAAWK,MAClBC,QAASL,EAAaI,OAExBE,aAAaC,QAAQ,sBAAuBC,KAAKC,UAAUP,G,EAcvDQ,GAXYjB,EAWsBQ,EAXZP,EAW2B,IAVjDC,GAAe,IAAIgB,MAAOC,UACvB,WACL,IAAMC,GAAO,IAAIF,MAAOC,UACpBC,EAAOlB,GAAgBD,IACzBC,EAAekB,EACfpB,EAASqB,MAAM,KAAMC,W,GAsB3BnB,EAAKoB,iBAAiB,SAAS,WAC7BC,aAAazB,GACbA,EAAuB0B,WAAWR,EAAwB,I,IAG5Dd,EAAKoB,iBAAiB,UAAU,SAAAG,GAC9BA,EAAMC,iBACNC,QAAQC,IAAI,CACVnB,MAAOJ,EAAWK,MAClBC,QAASL,EAAaI,QAdxBE,aAAaiB,WAAW,uBACxBxB,EAAWK,MAAQ,GACnBJ,EAAaI,MAAQ,E,IAiBvBoB,OAAOR,iBAAiB,oBA7BF,WACpB,IAAMS,EAAanB,aAAaoB,QAAQ,uBACxC,GAAID,EAAY,CACd,IAAMvB,EAAYM,KAAKmB,MAAMF,GAC7B1B,EAAWK,MAAQF,EAAUC,MAC7BH,EAAaI,MAAQF,EAAUG,O,KA0BnCmB,OAAOR,iBAAiB,SAAUf,E","sources":["src/js/03-feedback.js"],"sourcesContent":["const form = document.querySelector('.feedback-form');\nconst emailInput = form.querySelector('input[name=\"email\"]');\nconst messageInput = form.querySelector('textarea[name=\"message\"]');\nlet saveFormStateTimeout;\n\nconst saveFormState = () => {\n  const formState = {\n    email: emailInput.value,\n    message: messageInput.value,\n  };\n  localStorage.setItem('feedback-form-state', JSON.stringify(formState));\n};\n\nconst throttle = (callback, delay) => {\n  let previousCall = new Date().getTime();\n  return function () {\n    const time = new Date().getTime();\n    if (time - previousCall >= delay) {\n      previousCall = time;\n      callback.apply(null, arguments);\n    }\n  };\n};\n\nconst throttledSaveFormState = throttle(saveFormState, 1000);\n\nconst loadFormState = () => {\n  const savedState = localStorage.getItem('feedback-form-state');\n  if (savedState) {\n    const formState = JSON.parse(savedState);\n    emailInput.value = formState.email;\n    messageInput.value = formState.message;\n  }\n};\n\nconst clearFormState = () => {\n  localStorage.removeItem('feedback-form-state');\n  emailInput.value = '';\n  messageInput.value = '';\n};\n\nform.addEventListener('input', () => {\n  clearTimeout(saveFormStateTimeout);\n  saveFormStateTimeout = setTimeout(throttledSaveFormState, 1000);\n});\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n  console.log({\n    email: emailInput.value,\n    message: messageInput.value,\n  });\n  clearFormState();\n});\n\nwindow.addEventListener('DOMContentLoaded', loadFormState);\n\nwindow.addEventListener('unload', saveFormState);\n"],"names":["$b00c40859be242c5$var$saveFormStateTimeout","callback","delay","previousCall","$b00c40859be242c5$var$form","document","querySelector","$b00c40859be242c5$var$emailInput","$b00c40859be242c5$var$messageInput","$b00c40859be242c5$var$saveFormState","formState","email","value","message","localStorage","setItem","JSON","stringify","$b00c40859be242c5$var$throttledSaveFormState","Date","getTime","time","apply","arguments","addEventListener","clearTimeout","setTimeout","event","preventDefault","console","log","removeItem","window","savedState","getItem","parse"],"version":3,"file":"03-feedback.34a587d9.js.map"}