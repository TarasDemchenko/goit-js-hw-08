{"mappings":"AAAA,MAAMA,EAAOC,SAASC,cAAc,kBAC9BC,EAAaH,EAAKE,cAAc,uBAChCE,EAAeJ,EAAKE,cAAc,4BACxC,IAAIG,EAEJ,MAAMC,EAAgB,KACpB,MAAMC,EAAY,CAChBC,MAAOL,EAAWM,MAClBC,QAASN,EAAaK,OAExBE,aAAaC,QAAQ,sBAAuBC,KAAKC,UAAUP,GAAW,EAclEQ,EAXW,EAACC,EAAUC,KAC1B,IAAIC,GAAe,IAAIC,MAAOC,UAC9B,OAAO,WACL,MAAMC,GAAO,IAAIF,MAAOC,UACpBC,EAAOH,GAAgBD,IACzBC,EAAeG,EACfL,EAASM,MAAM,KAAMC,W,CAExB,EAG4BC,CAASlB,EAAe,KAiBvDN,EAAKyB,iBAAiB,SAAS,KAC7BC,aAAarB,GACbA,EAAuBsB,WAAWZ,EAAwB,IAAK,IAGjEf,EAAKyB,iBAAiB,UAAUG,IAC9BA,EAAMC,iBACNC,QAAQC,IAAI,CACVvB,MAAOL,EAAWM,MAClBC,QAASN,EAAaK,QAdxBE,aAAaqB,WAAW,uBACxB7B,EAAWM,MAAQ,GACnBL,EAAaK,MAAQ,EAcL,IAGlBwB,OAAOR,iBAAiB,oBA7BF,KACpB,MAAMS,EAAavB,aAAawB,QAAQ,uBACxC,GAAID,EAAY,CACd,MAAM3B,EAAYM,KAAKuB,MAAMF,GAC7B/B,EAAWM,MAAQF,EAAUC,MAC7BJ,EAAaK,MAAQF,EAAUG,O,KA0BnCuB,OAAOR,iBAAiB,SAAUnB","sources":["src/js/03-feedback.js"],"sourcesContent":["const form = document.querySelector('.feedback-form');\nconst emailInput = form.querySelector('input[name=\"email\"]');\nconst messageInput = form.querySelector('textarea[name=\"message\"]');\nlet saveFormStateTimeout;\n\nconst saveFormState = () => {\n  const formState = {\n    email: emailInput.value,\n    message: messageInput.value,\n  };\n  localStorage.setItem('feedback-form-state', JSON.stringify(formState));\n};\n\nconst throttle = (callback, delay) => {\n  let previousCall = new Date().getTime();\n  return function () {\n    const time = new Date().getTime();\n    if (time - previousCall >= delay) {\n      previousCall = time;\n      callback.apply(null, arguments);\n    }\n  };\n};\n\nconst throttledSaveFormState = throttle(saveFormState, 1000);\n\nconst loadFormState = () => {\n  const savedState = localStorage.getItem('feedback-form-state');\n  if (savedState) {\n    const formState = JSON.parse(savedState);\n    emailInput.value = formState.email;\n    messageInput.value = formState.message;\n  }\n};\n\nconst clearFormState = () => {\n  localStorage.removeItem('feedback-form-state');\n  emailInput.value = '';\n  messageInput.value = '';\n};\n\nform.addEventListener('input', () => {\n  clearTimeout(saveFormStateTimeout);\n  saveFormStateTimeout = setTimeout(throttledSaveFormState, 1000);\n});\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n  console.log({\n    email: emailInput.value,\n    message: messageInput.value,\n  });\n  clearFormState();\n});\n\nwindow.addEventListener('DOMContentLoaded', loadFormState);\n\nwindow.addEventListener('unload', saveFormState);\n"],"names":["$945622fd0f572e60$var$form","document","querySelector","$945622fd0f572e60$var$emailInput","$945622fd0f572e60$var$messageInput","$945622fd0f572e60$var$saveFormStateTimeout","$945622fd0f572e60$var$saveFormState","formState","email","value","message","localStorage","setItem","JSON","stringify","$945622fd0f572e60$var$throttledSaveFormState","callback","delay","previousCall","Date","getTime","time","apply","arguments","$945622fd0f572e60$var$throttle","addEventListener","clearTimeout","setTimeout","event","preventDefault","console","log","removeItem","window","savedState","getItem","parse"],"version":3,"file":"03-feedback.1b51a8cf.js.map"}